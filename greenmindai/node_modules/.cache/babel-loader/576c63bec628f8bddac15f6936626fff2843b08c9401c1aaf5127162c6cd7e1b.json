{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Sai kumar\\\\OneDrive\\\\Desktop\\\\smart-farming\\\\greenmindai\\\\src\\\\CameraCapture.jsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useState } from \"react\";\nimport Webcam from \"react-webcam\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction CameraCapture() {\n  _s();\n  const webcamRef = useRef(null);\n  const [image, setImage] = useState(null);\n  const [result, setResult] = useState(null);\n  const capture = () => {\n    const imgSrc = webcamRef.current.getScreenshot();\n    setImage(imgSrc);\n  };\n  const uploadImage = async () => {\n    const blob = await fetch(image).then(res => res.blob());\n    const formData = new FormData();\n    formData.append(\"image\", blob, \"plant.jpg\");\n    const response = await axios.post(\"http://127.0.0.1:8000/api/predict/\", formData, {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\"\n      }\n    });\n    setResult(response.data);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      textAlign: \"center\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\uD83C\\uDF3F Plant Disease Detection\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this), !image && /*#__PURE__*/_jsxDEV(Webcam, {\n      ref: webcamRef,\n      screenshotFormat: \"image/jpeg\",\n      width: 300\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }, this), image && /*#__PURE__*/_jsxDEV(\"img\", {\n      src: image,\n      alt: \"preview\",\n      width: 300\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), !image ? /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: capture,\n      children: \"\\uD83D\\uDCF8 Capture\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setImage(null),\n        children: \"\\uD83D\\uDD04 Retake\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: uploadImage,\n        children: \"\\uD83D\\uDE80 Predict\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), result && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Result\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Disease:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 14\n        }, this), \" \", result.prediction]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Confidence:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 14\n        }, this), \" \", result.confidence]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Suggestion:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 14\n        }, this), \" \", result.suggestion]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 5\n  }, this);\n}\n_s(CameraCapture, \"oatUpjZi3GpRrO3qywBxiuSS8NI=\");\n_c = CameraCapture;\nexport default CameraCapture;\nvar _c;\n$RefreshReg$(_c, \"CameraCapture\");","map":{"version":3,"names":["React","useRef","useState","Webcam","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","CameraCapture","_s","webcamRef","image","setImage","result","setResult","capture","imgSrc","current","getScreenshot","uploadImage","blob","fetch","then","res","formData","FormData","append","response","post","headers","data","style","textAlign","children","fileName","_jsxFileName","lineNumber","columnNumber","ref","screenshotFormat","width","src","alt","onClick","prediction","confidence","suggestion","_c","$RefreshReg$"],"sources":["C:/Users/Sai kumar/OneDrive/Desktop/smart-farming/greenmindai/src/CameraCapture.jsx"],"sourcesContent":["import React, { useRef, useState } from \"react\";\r\nimport Webcam from \"react-webcam\";\r\nimport axios from \"axios\";\r\n\r\nfunction CameraCapture() {\r\n  const webcamRef = useRef(null);\r\n  const [image, setImage] = useState(null);\r\n  const [result, setResult] = useState(null);\r\n\r\n  const capture = () => {\r\n    const imgSrc = webcamRef.current.getScreenshot();\r\n    setImage(imgSrc);\r\n  };\r\n\r\n  const uploadImage = async () => {\r\n    const blob = await fetch(image).then(res => res.blob());\r\n    const formData = new FormData();\r\n    formData.append(\"image\", blob, \"plant.jpg\");\r\n\r\n    const response = await axios.post(\r\n      \"http://127.0.0.1:8000/api/predict/\",\r\n      formData,\r\n      { headers: { \"Content-Type\": \"multipart/form-data\" } }\r\n    );\r\n\r\n    setResult(response.data);\r\n  };\r\n\r\n  return (\r\n    <div style={{ textAlign: \"center\" }}>\r\n      <h2>ðŸŒ¿ Plant Disease Detection</h2>\r\n\r\n      {!image && (\r\n        <Webcam\r\n          ref={webcamRef}\r\n          screenshotFormat=\"image/jpeg\"\r\n          width={300}\r\n        />\r\n      )}\r\n\r\n      {image && <img src={image} alt=\"preview\" width={300} />}\r\n\r\n      <br />\r\n\r\n      {!image ? (\r\n        <button onClick={capture}>ðŸ“¸ Capture</button>\r\n      ) : (\r\n        <>\r\n          <button onClick={() => setImage(null)}>ðŸ”„ Retake</button>\r\n          <button onClick={uploadImage}>ðŸš€ Predict</button>\r\n        </>\r\n      )}\r\n\r\n      {result && (\r\n        <div>\r\n          <h3>Result</h3>\r\n          <p><b>Disease:</b> {result.prediction}</p>\r\n          <p><b>Confidence:</b> {result.confidence}</p>\r\n          <p><b>Suggestion:</b> {result.suggestion}</p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CameraCapture;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}